<div class="filter-header d-flex">
    <div class="bold h3 d-flex" (click)="closeFilterModal()">
        <svg xmlns="http://www.w3.org/2000/svg" class="my-auto mr-3 show-sm" width="8" height="12" viewBox="0 0 8 12"
            fill="none">
            <path d="M7 1L2 6L7 11" stroke="black" stroke-width="2" stroke-linecap="round" />
        </svg>
        <span>Filtrer</span>
        
    </div>
    <a [routerLink]="['/offre']" class="h5 btn-flat" style="color: #29ca8e7a;">
            RÃ©initialiser
    </a>

</div>

<button (click)="collapsedContract = !collapsedContract" class="collapheader  h4">
    <div class="d-flex">
        <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none" class="my-auto">
            <path fill="black" stroke
                d="M13.6 2.52632V0.842105C13.6 0.618765 13.5104 0.404572 13.351 0.246647C13.1916 0.0887215 12.9754 0 12.75 0C12.5246 0 12.3084 0.0887215 12.149 0.246647C11.9896 0.404572 11.9 0.618765 11.9 0.842105V2.52632H5.1V0.842105C5.1 0.618765 5.01045 0.404572 4.85104 0.246647C4.69164 0.0887215 4.47543 0 4.25 0C4.02457 0 3.80837 0.0887215 3.64896 0.246647C3.48955 0.404572 3.4 0.618765 3.4 0.842105V2.52632H0V16H17V2.52632H13.6ZM15.3 14.3158H1.7V4.21053H15.3V14.3158ZM11.951 7.93263L10.931 6.92211L7.905 9.92L6.069 8.10947L5.049 9.12L7.905 11.9495L11.951 7.93263Z"
                class="fill-ca-accent" />
        </svg>
        <div class="ml-2 bold">Type Contrat</div>
    </div>
    <div>
        <svg xmlns="http://www.w3.org/2000/svg" width="8" height="12" viewBox="0 0 8 12" fill="none"
            *ngIf="!collapsedContract">
            <path fill="black"
                d="M0.792405 10.2929C0.401881 10.6834 0.401881 11.3166 0.792405 11.7071C1.18293 12.0976 1.81609 12.0976 2.20662 11.7071L0.792405 10.2929ZM6.49951 6L7.20662 6.70711L7.91373 6L7.20662 5.29289L6.49951 6ZM2.20662 0.292893C1.81609 -0.0976315 1.18293 -0.0976315 0.792405 0.292893C0.401881 0.683417 0.401881 1.31658 0.792405 1.70711L2.20662 0.292893ZM2.20662 11.7071L7.20662 6.70711L5.7924 5.29289L0.792405 10.2929L2.20662 11.7071ZM7.20662 5.29289L2.20662 0.292893L0.792405 1.70711L5.7924 6.70711L7.20662 5.29289Z"
                class="fill-ca-accent" />
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" fill="none"
            *ngIf="collapsedContract">
            <path  fill="black"
                d="M1.70711 0.292893C1.31658 -0.097631 0.683417 -0.097631 0.292893 0.292893C-0.0976313 0.683417 -0.0976313 1.31658 0.292893 1.70711L1.70711 0.292893ZM6 6L5.29289 6.70711L6 7.41421L6.70711 6.70711L6 6ZM11.7071 1.70711C12.0976 1.31658 12.0976 0.683417 11.7071 0.292893C11.3166 -0.0976314 10.6834 -0.0976314 10.2929 0.292893L11.7071 1.70711ZM0.292893 1.70711L5.29289 6.70711L6.70711 5.29289L1.70711 0.292893L0.292893 1.70711ZM6.70711 6.70711L11.7071 1.70711L10.2929 0.292893L5.29289 5.29289L6.70711 6.70711Z"
                class="fill-ca-accent" />
        </svg>
    </div>
</button>
<div class="collapbody" [ngClass]="{'opened-collapse':collapsedContract}">
    <div class="text-center" *ngIf="!contracts">
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" class="loader-svg">
            <circle cx="50" cy="50" r="45" class="orange-circle-loading" />
        </svg>
    </div>
    <div (click) = "item.checked = !item.checked;onChangeFilter(contracts,'contracts','type')" class="badge badge-md  d-inline-block mr-2 mt-2 cursor-pointer border-2" *ngFor="let item of contracts.data" 
    [ngClass]="{'contract-checked': item.checked,
            'opacity': !item.checked 
          }">
        {{item.type}}
    </div>
</div>


<button (click)="collapsedSalary = !collapsedSalary" class="collapheader  h4">
    <div class="d-flex">
        
        <svg fill="#000000" height="18px" width="18px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 300.005 300.005" xml:space="preserve"> <g> <g> <g> <path d="M150,0C67.159,0,0.002,67.159,0.002,150c0,82.838,67.157,150.005,149.997,150.005S300.003,232.841,300.003,150 C300,67.159,232.841,0,150,0z M213.129,195.303c0,2.944-3.359,5.428-7.33,5.428H75.523c-3.973,0-7.33-2.485-7.33-5.428v-63.295 c0-2.941,3.356-5.428,7.33-5.428h130.275c3.971,0,7.33,2.487,7.33,5.428V195.303z M239.065,169.361L239.065,169.361 c-0.001,2.944-3.36,5.431-7.331,5.431h-3.045v-42.785c0-11.573-10.268-20.99-22.891-20.99H94.13v-4.949 c0-2.941,3.356-5.428,7.33-5.428h130.275c3.971,0,7.33,2.487,7.33,5.428V169.361z"/> <path d="M139.345,158.206c-6.069-0.726-8.956-1.538-8.956-4.168c0-4.085,5.981-4.526,8.554-4.526 c3.802,0,8.004,1.831,9.366,4.082l0.599,0.993l8.948-4.142l-0.584-1.19c-3.081-6.3-8.525-8.23-12.758-9.018v-5.592h-10.463v5.561 c-9.028,1.434-14.376,6.544-14.376,13.832c0,12.029,11.246,13.285,18.682,14.115c6.57,0.778,9.762,2.404,9.762,4.972 c0,5.065-7.213,5.457-9.425,5.457c-4.977,0-9.765-2.456-11.137-5.714l-0.506-1.198l-9.703,4.113l0.511,1.196 c2.679,6.277,8.406,10.24,16.192,11.249v6.022h10.463v-6.323c7.496-0.954,14.688-5.773,14.688-14.804 C159.205,160.649,147.255,159.179,139.345,158.206z"/> </g> </g> </g>
        
        </svg>
        <div class="ml-2 bold"> Salaire
           
        </div>
        
        
    </div>
    
    <div>
        
       

        <svg xmlns="http://www.w3.org/2000/svg" width="8" height="12" viewBox="0 0 8 12" fill="none"
            *ngIf="!collapsedSalary">
            <path fill="black"
                d="M0.792405 10.2929C0.401881 10.6834 0.401881 11.3166 0.792405 11.7071C1.18293 12.0976 1.81609 12.0976 2.20662 11.7071L0.792405 10.2929ZM6.49951 6L7.20662 6.70711L7.91373 6L7.20662 5.29289L6.49951 6ZM2.20662 0.292893C1.81609 -0.0976315 1.18293 -0.0976315 0.792405 0.292893C0.401881 0.683417 0.401881 1.31658 0.792405 1.70711L2.20662 0.292893ZM2.20662 11.7071L7.20662 6.70711L5.7924 5.29289L0.792405 10.2929L2.20662 11.7071ZM7.20662 5.29289L2.20662 0.292893L0.792405 1.70711L5.7924 6.70711L7.20662 5.29289Z"
                class="fill-ca-accent" />
        </svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" fill="none"
            *ngIf="collapsedSalary">
            <path fill="black"
                d="M1.70711 0.292893C1.31658 -0.097631 0.683417 -0.097631 0.292893 0.292893C-0.0976313 0.683417 -0.0976313 1.31658 0.292893 1.70711L1.70711 0.292893ZM6 6L5.29289 6.70711L6 7.41421L6.70711 6.70711L6 6ZM11.7071 1.70711C12.0976 1.31658 12.0976 0.683417 11.7071 0.292893C11.3166 -0.0976314 10.6834 -0.0976314 10.2929 0.292893L11.7071 1.70711ZM0.292893 1.70711L5.29289 6.70711L6.70711 5.29289L1.70711 0.292893L0.292893 1.70711ZM6.70711 6.70711L11.7071 1.70711L10.2929 0.292893L5.29289 5.29289L6.70711 6.70711Z"
                class="fill-ca-accent" />
        </svg>
        
        
    </div>
    
    
</button>
<input type="range" class="form-range" id="minSalaireRange" [(ngModel)]="minSalaireRange" (change)="filterBySalaireRange()">

<div class="collapbody" [ngClass]="{'opened-collapse':collapsedSalary}">
  
    <br>
</div>


<button (click)="collapsedState = !collapsedState" class="collapheader  h4">
    <div class="d-flex">
        <svg fill="#000000" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18px" height="18px" viewBox="0 0 395.71 395.71" xml:space="preserve"> <g> <path d="M197.849,0C122.131,0,60.531,61.609,60.531,137.329c0,72.887,124.591,243.177,129.896,250.388l4.951,6.738 c0.579,0.792,1.501,1.255,2.471,1.255c0.985,0,1.901-0.463,2.486-1.255l4.948-6.738c5.308-7.211,129.896-177.501,129.896-250.388 C335.179,61.609,273.569,0,197.849,0z M197.849,88.138c27.13,0,49.191,22.062,49.191,49.191c0,27.115-22.062,49.191-49.191,49.191 c-27.114,0-49.191-22.076-49.191-49.191C148.658,110.2,170.734,88.138,197.849,88.138z"/> </g> </svg>
        <div class="ml-2 bold">Villes</div>
    </div>
    <div>
        <svg xmlns="http://www.w3.org/2000/svg" width="8" height="12" viewBox="0 0 8 12" fill="none"
            *ngIf="!collapsedState">
            <path fill="black"
                d="M0.792405 10.2929C0.401881 10.6834 0.401881 11.3166 0.792405 11.7071C1.18293 12.0976 1.81609 12.0976 2.20662 11.7071L0.792405 10.2929ZM6.49951 6L7.20662 6.70711L7.91373 6L7.20662 5.29289L6.49951 6ZM2.20662 0.292893C1.81609 -0.0976315 1.18293 -0.0976315 0.792405 0.292893C0.401881 0.683417 0.401881 1.31658 0.792405 1.70711L2.20662 0.292893ZM2.20662 11.7071L7.20662 6.70711L5.7924 5.29289L0.792405 10.2929L2.20662 11.7071ZM7.20662 5.29289L2.20662 0.292893L0.792405 1.70711L5.7924 6.70711L7.20662 5.29289Z"
                class="fill-ca-accent" />
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" fill="none"
            *ngIf="collapsedState">
            <path fill="black"
                d="M1.70711 0.292893C1.31658 -0.097631 0.683417 -0.097631 0.292893 0.292893C-0.0976313 0.683417 -0.0976313 1.31658 0.292893 1.70711L1.70711 0.292893ZM6 6L5.29289 6.70711L6 7.41421L6.70711 6.70711L6 6ZM11.7071 1.70711C12.0976 1.31658 12.0976 0.683417 11.7071 0.292893C11.3166 -0.0976314 10.6834 -0.0976314 10.2929 0.292893L11.7071 1.70711ZM0.292893 1.70711L5.29289 6.70711L6.70711 5.29289L1.70711 0.292893L0.292893 1.70711ZM6.70711 6.70711L11.7071 1.70711L10.2929 0.292893L5.29289 5.29289L6.70711 6.70711Z"
                class="fill-ca-accent" />
        </svg>
    </div>
</button>
<div class="collapbody pt-4" [ngClass]="{'opened-collapse':collapsedState,'overflow-y':hideAllState}" *ngIf="states">
    <div class="text-center" *ngIf="!states">
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" class="loader-svg">
            <circle cx="50" cy="50" r="45" class="orange-circle-loading" />
        </svg>
    </div>
    <label class="checkbox-container mb-1" *ngFor="let item of states.data">
        {{item.place}} 
        <input type="checkbox" [(ngModel)]="item.checked" (change) = "onChangeFilter(states,'states','place')">
        <span class="checkmark"></span>
    </label>
</div>

<button (click)="collapsedCategories = !collapsedCategories" class="collapheader  h4">
    <div class="d-flex">
        <svg width="18px" height="18px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"> <g id="Iconly/Curved/Category"> <g id="Category"> <path id="Stroke 1" fill-rule="evenodd" clip-rule="evenodd" d="M21.0003 6.6738C21.0003 8.7024 19.3551 10.3476 17.3265 10.3476C15.2979 10.3476 13.6536 8.7024 13.6536 6.6738C13.6536 4.6452 15.2979 3 17.3265 3C19.3551 3 21.0003 4.6452 21.0003 6.6738Z" stroke="#130F26" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path id="Stroke 3" fill-rule="evenodd" clip-rule="evenodd" d="M10.3467 6.6738C10.3467 8.7024 8.7024 10.3476 6.6729 10.3476C4.6452 10.3476 3 8.7024 3 6.6738C3 4.6452 4.6452 3 6.6729 3C8.7024 3 10.3467 4.6452 10.3467 6.6738Z" stroke="#130F26" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path id="Stroke 5" fill-rule="evenodd" clip-rule="evenodd" d="M21.0003 17.2619C21.0003 19.2905 19.3551 20.9348 17.3265 20.9348C15.2979 20.9348 13.6536 19.2905 13.6536 17.2619C13.6536 15.2333 15.2979 13.5881 17.3265 13.5881C19.3551 13.5881 21.0003 15.2333 21.0003 17.2619Z" stroke="#130F26" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path id="Stroke 7" fill-rule="evenodd" clip-rule="evenodd" d="M10.3467 17.2619C10.3467 19.2905 8.7024 20.9348 6.6729 20.9348C4.6452 20.9348 3 19.2905 3 17.2619C3 15.2333 4.6452 13.5881 6.6729 13.5881C8.7024 13.5881 10.3467 15.2333 10.3467 17.2619Z" stroke="#130F26" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </g> </g> </svg>
        <div class="ml-2 bold">CatÃ©gories</div>
    </div>
    <div>
        <svg xmlns="http://www.w3.org/2000/svg" width="8" height="12" viewBox="0 0 8 12" fill="none"
            *ngIf="!collapsedCategories">
            <path fill="black"
                d="M0.792405 10.2929C0.401881 10.6834 0.401881 11.3166 0.792405 11.7071C1.18293 12.0976 1.81609 12.0976 2.20662 11.7071L0.792405 10.2929ZM6.49951 6L7.20662 6.70711L7.91373 6L7.20662 5.29289L6.49951 6ZM2.20662 0.292893C1.81609 -0.0976315 1.18293 -0.0976315 0.792405 0.292893C0.401881 0.683417 0.401881 1.31658 0.792405 1.70711L2.20662 0.292893ZM2.20662 11.7071L7.20662 6.70711L5.7924 5.29289L0.792405 10.2929L2.20662 11.7071ZM7.20662 5.29289L2.20662 0.292893L0.792405 1.70711L5.7924 6.70711L7.20662 5.29289Z"
                class="fill-ca-accent" />
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" fill="none"
            *ngIf="collapsedCategories">
            <path fill="black"
                d="M1.70711 0.292893C1.31658 -0.097631 0.683417 -0.097631 0.292893 0.292893C-0.0976313 0.683417 -0.0976313 1.31658 0.292893 1.70711L1.70711 0.292893ZM6 6L5.29289 6.70711L6 7.41421L6.70711 6.70711L6 6ZM11.7071 1.70711C12.0976 1.31658 12.0976 0.683417 11.7071 0.292893C11.3166 -0.0976314 10.6834 -0.0976314 10.2929 0.292893L11.7071 1.70711ZM0.292893 1.70711L5.29289 6.70711L6.70711 5.29289L1.70711 0.292893L0.292893 1.70711ZM6.70711 6.70711L11.7071 1.70711L10.2929 0.292893L5.29289 5.29289L6.70711 6.70711Z"
                class="fill-ca-accent" />
        </svg>
    </div>
</button>
<div class="collapbody pt-4" [ngClass]="{'opened-collapse':collapsedCategories,'overflow-y':hideAllCategories}">
    <div class="text-center" *ngIf="categories.length == 0">
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" class="loader-svg">
            <circle cx="50" cy="50" r="45" class="orange-circle-loading" />
        </svg>
    </div>
    <label class="checkbox-container mb-1 display-d-flex" *ngFor="let item of categories.data">
        <div class="d-inline-block mt-2">    
            <input type="checkbox" [(ngModel)]="item.checked" (change) = "onChangeFilter(categories,'categories','name')">            
            <span class="checkmark"></span>
        </div>
        <div class="d-inline-block mr-1 no-wrap text-md">    
            {{item.name}}
        </div>    
    </label>
</div>

