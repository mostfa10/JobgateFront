<!-- 
<div class="row" style="padding-top: 46px; padding-left: 20px;">
    <div class="col-sm-6"  *ngFor="let c of candidatures">
      <div class="card" style="    border: groove; padding-top: 18px;">
        <div class="d-flex justify-between mb-3">
        <div class="card-body">
           

          <h5 class="card-title"     style="text-align: center; padding-left: 280px;">{{c.offreId.titre}}</h5>
          <h4 class="card-text" style="    border-left: dashed; text-align: left;"> Condidat: &nbsp; {{c.userId.condidatId.name}} {{c.userId.condidatId.lastname}}</h4>
          <h4 class="card-text" style="    border-left: dashed; text-align: left;"> score:{{score}} </h4>
          
          <h4 class="card-text" style="    border-left: dashed; text-align: left;">lettre Motivation :</h4><p style="padding-left: 34px;
          text-align: left;">{{c.Motivation}}</p>
           <button style="align-items: center;     border-bottom: dotted;" (click)="viewCV(c._id)" >Voir CV</button>
               </div>
               <a  class="section-btn btn btn pull-left" style="color: black;padding-top: 60px;"  >confirmed</a>  
      </div>
    </div>
  
  </div> -->


  <div class="container" style="margin-top:20px">
    <input type="text" name="search_name"  class="form-control">
    <table class="table">
        <thead>
          <tr >
            <th scope="col">#</th>
            <th scope="col">nom de l'offre</th>
            <th scope="col">date candidature</th>
            <th scope="col">état</th>
            <th scope="col">action</th>
          </tr>
        </thead>
        <tbody>
          
          <tr *ngFor="let c of candidatures  let index=index">
            <th scope="row">{{index+1}}</th>
            <td>{{c.offreId.titre}}</td>
            <td>{{c.createdAt}}</td>
            <td>{{c.status == 'confirmed' ? 'Confirmée' : c.status == 'rejected' ? 'Rejetée' : 'En attente de confirmation' }}</td>


            <td>
                <button type="button" class="btn btn-primary" (click)="showCondidature(c)">Voir condidature</button>
            </td>
          
        </tr>

        </tbody>
    </table>
  </div>


  <div #myModal class="modal-container" *ngIf="showCandidature">
    <div class="modal-content">
      <button class="cursor-pointer" style="float: right;    position: relative;
      top: -18px;
      right: -18px;" (click)="showCandidature = false" >
        <svg height="25px" width="25px" id="Layer_1" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"/></svg>
    </button>
      <div class="card" style="border: groove; padding-top: 12px;margin-top: 12px;">
        <div class="d-flex justify-between mb-3">
          <div class="card-body" style="width: 100%;">   
            <span class="d-flex space-x-2 space-y-2">
              <h4>Titre : </h4>
              <p class="pl-2 card-title">{{selectedCondidature?.offreId.titre}}</p>
            </span>
            <span class="d-flex space-x-2 space-y-2">
              <h4>Condidat : </h4>
              <a class="pl-2 cursor-pointer" [routerLink]="['/profile',selectedCondidature?.userId._id]" class="card-text"> {{selectedCondidature?.userId.condidatId.name}} {{selectedCondidature?.userId.condidatId.lastname}}</a>
            </span>
            <span class="d-flex space-x-2 space-y-2">
              <h4 class="card-text"> score : </h4>
              <p class="pl-2">
                {{score}} / 5
              </p>
            </span>
            <span class="d-flex space-x-2 space-y-2">
              <h4 class="card-text">Message : </h4>
              <textarea class="pl-3" style="border: 1px gray solid;width: 80%;margin-left: 5px;" disabled ng-model="myTextarea"> {{selectedCondidature?.Motivation}}</textarea>

            </span>
            <span class="d-flex space-x-2 space-y-2">
              <h4>Cv : </h4>

              <a class="pl-2 cursor-pointer" (click)="viewCV(selectedCondidature?._id)">{{selectedCondidature?.cv}}</a>
            </span>
            <span style="width: fit-content;
            height: fit-content;
            color: black;
            border: 1px gray solid;
            position: absolute;
            top: 40px;
            right: 37px;
            margin-right: 5px;"
             class="btn pull-left pr-2 {{selectedCondidature.status == 'confirmed' ? 'confirmed' : selectedCondidature.status == 'rejected' ? 'notConfirmed' : 'pending' }}"  > 
              {{selectedCondidature.status == 'confirmed' ? 'Confirmée' : selectedCondidature.status == 'rejected' ? 'Rejetée' : 'En attente de confirmation' }}</span>  
          </div>
        </div>
        <hr>
        <div class="d-flex space-x-2" style="text-align: right;align-items: end;justify-items: end;width: 100%;">
            <button class="btn btn-primary" (click)="confirm(selectedCondidature)" [disabled]="selectedCondidature.status != 'pending'">
                Confirmer
            </button>
            <button class="btn btn-danger" (click)="reject(selectedCondidature)" [disabled]="selectedCondidature.status != 'pending'">
                Rejeter
            </button>
        </div>
      </div>
    </div>
    </div>
